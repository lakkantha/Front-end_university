<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
    <p style="font-size: 20px; color: white">Please wait...</p>
</ngx-spinner>

<div class="container aplication-block">
    <div class="col-sm-12 topic">
        <h2> Original Certificate Verification</h2>
    </div>

    <!-----------Original Certificate Verification-------------->
    <div class="form-group col-sm-12">
        <form #form="ngForm">
            <div class="groove-border-block">
                <span class="span-topic col-sm-3">
                    Search Criteria
                </span>

                <!--field Faculty and applicant id -->
                <div class="row col-sm-12" style="margin-top: 28px;">
                    <!--field Faculty -->
                    <div class="row col-sm-7">
                        <label for="faculty" class="col-sm-3">Faculty</label>
                        <div class="col-sm-6">
                            <select class="form-control extra-width" id="faculty" name="faculty"
                                [(ngModel)]="searchData.facultyId" (change)="getDepatmentList()"
                                (change)="getAllStartedProgrammes()">
                                <option value="" selected disabled hidden>---------Select---------</option>
                                <option *ngFor="let faculty of facultyList; let i = index" [value]="faculty.id">
                                    {{faculty.code}}: {{faculty.description}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <!--field applicant id -->
                    <div class="row col-sm-5">
                        <label for="applicantid" class="col-sm-6">Applicant ID</label>
                        <div class="col-sm-6">
                            <input type="text" class="extra-width" id="applicantid" name="applicantid"
                                [(ngModel)]="applicantData.applicantId">
                        </div>
                    </div>
                </div>

                <!--field department and applicant nic -->
                <div class="row col-sm-12">
                    <!--field department -->
                    <div class="row col-sm-7">
                        <label for="department" class="col-sm-3">Department</label>
                        <div class="col-sm-6">
                            <select class="form-control extra-width" id="department" name="department"
                                [(ngModel)]="searchData.departmentId" (change)="getAllStartedProgrammes()">
                                <option value="" selected disabled hidden>---------Select---------</option>
                                <option *ngFor="let department of departmentList; let i = index"
                                    [value]="department.departmentId">
                                    {{department.code}}: {{department.description}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <!--field applicant nic -->
                    <div class="row col-sm-5">
                        <label for="applicantnic" class="col-sm-6">Applicant NIC</label>
                        <div class="col-sm-6">
                            <input type="text" class="extra-width" id="applicantnic" name="applicantnic"
                                [(ngModel)]="applicantData.applicantNic">
                        </div>
                    </div>
                </div>

                <!--field Program and registration number -->
                <div class="row col-sm-12">
                    <!--field Program -->
                    <div class="row col-sm-7">
                        <label for="program" class="col-sm-3">Programme</label>
                        <div class="col-sm-6">
                            <select class="form-control extra-width" id="program" name="program"
                                [(ngModel)]="searchData.programStartedId"
                                (change)="loadProgramCategory(searchData.programStartedId)"
                                (change)="getAllCentersByProgram()">
                                <option value="" selected disabled hidden>---------Select---------</option>
                                <option *ngFor="let p of programmes; let i = index" [value]="p.programStartedId">
                                    {{p.program.code}}: {{p.program.title}}{{p.academicYear.year}}-{{p.batchNo}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <!--field registration number -->
                    <div class="row col-sm-5">
                        <label for="registrationnumber" class="col-sm-6">Registration Number</label>
                        <div class="col-sm-6">
                            <input type="text" class="extra-width" id="registrationnumber" name="registrationnumber"
                                [(ngModel)]="applicantData.registrationNumber">
                        </div>
                    </div>
                </div>

                <!--field Specialization/Discipline -->
                <div class="row col-sm-12">
                    <div class="row col-sm-7">
                        <!-- specialization-->
                        <label for="category" class="col-sm-3" *ngIf="specialization.length !=0">Specialization</label>
                        <div class="col-sm-6" *ngIf="specialization.length !=0">
                            <select class="form-control extra-width" id="category" name="category"
                                [(ngModel)]="searchData.specializationId">
                                <option value="0" selected disabled hidden>---------Select---------</option>
                                <option *ngFor="let s of specialization; let i = index" [value]="s.specilization.id">
                                    {{s.specilization.code}}: {{s.specilization.description}}
                                </option>
                            </select>
                        </div>

                        <!-- stream-->
                        <label for="category" class="col-sm-3" *ngIf="stream.length !=0">Stream</label>
                        <div class="col-sm-6" *ngIf="stream.length !=0">
                            <select class="form-control extra-width" id="category" name="category"
                                [(ngModel)]="searchData.streamId">
                                <option value="0" selected disabled hidden>---------Select---------</option>
                                <option *ngFor="let st of stream; let i = index" [value]="st.stream.id">
                                    {{st.stream.code}}: {{st.stream.description}}
                                </option>
                            </select>
                        </div>

                        <!-- discipline-->
                        <label for="category" class="col-sm-3" *ngIf="discipline.length !=0">Discipline</label>
                        <div class="col-sm-6" *ngIf="discipline.length !=0">
                            <select class="form-control extra-width" id="category" name="category"
                                [(ngModel)]="searchData.disciplineId">
                                <option value="0" selected disabled hidden>---------Select---------</option>
                                <option *ngFor="let s of discipline; let i = index" [value]="s.discipline.id">
                                    {{s.discipline.code}}: {{s.discipline.description}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>

                <!--field Center and button -->
                <div class="row col-sm-12">
                    <!--field Center -->
                    <div class="row col-sm-7">
                        <label for="program" class="col-sm-3">Center</label>
                        <div class="col-sm-6">
                            <select class="form-control extra-width" id="center" name="center" style="height: 32px;"
                                [(ngModel)]="searchData.centerId">
                                <option value="" selected disabled hidden>---------Select---------</option>
                                <option *ngFor="let center of centerList; let i = index"
                                    [value]="center.cnt_center.cnt_centerId">
                                    {{center.cnt_center.cnt_code}}: {{center.cnt_center.cnt_description}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <!-- buttons -->
                    <div class="row col-sm-2" style="margin-left: 10px; position: absolute; right: 30px; bottom: 0;">
                        <div class="col-sm-4" style="margin-right: 20px;"><button type="reset" class="btn btn-secondary"
                                style="margin-right: 5px;" (click)="clear()">Clear</button></div>
                        <div class="col-sm-4"><button type="button" class="btn btn-primary" style="margin-right: 5px;"
                                (click)="search()">Searchs</button></div>
                    </div>
                </div>
            </div>
        </form>

        <!-- search result block-->
        <div class="groove-block">
            <span class="span-topic col-sm-3">
                Search Result
            </span>

            <!--field Program -->
            <div class="row col-sm-12" style="margin-top: 28px;">
                <!--field Program -->
                <div class="row col-sm-7">
                    <label for="program" class="col-sm-5" style="padding-right: 0px;">Programme</label>

                    <div *ngIf="selectedProgram.length != 0" class="col-sm-4" style="padding-left: 0px;">
                        <select class="form-control extra-width" id="selectedProgram" name="selectedProgram"
                            [(ngModel)]="searchData.selectedProgramId">
                            <option value="" selected disabled hidden>---------Select---------</option>
                            <option *ngFor="let sp of selectedProgram; let j = index" [value]="sp.program.programId">
                                {{sp.program.code}}:
                                {{sp.program.title}}{{sp.academicYear.year}}--{{sp.batchNo}}
                            </option>
                        </select>
                    </div>

                    <!--   <div *ngIf="selectedProgram.length == 0" class="col-sm-4" style="padding-left: 0px;">
                        <select class="form-control extra-width" id="program" name="program"
                           >
                            <option value="" selected disabled hidden>---------Select---------</option>
                            <option *ngFor="let p of programmes; let i = index" [value]="p.programStartedId">
                                {{p.program.code}}: {{p.program.title}}{{p.academicYear.year}}-{{p.batchNo}}
                            </option>
                        </select>
                    </div>-->
                </div>
            </div>

            <!--field addmission requirement -->
            <div class="row col-sm-12">
                <div class="row col-sm-7">
                    <label for="program" class="col-sm-5" style="padding-right: 0px;">Admission Requirement</label>
                    <div class="col-sm-4" style="margin-right: 20px; padding-left: 0px;">

                        <button type="button" class="btn btn-secondary"
                            (click)="viewQualificationData(viewQualification)"
                            style="margin-right: 5px;width: 55%;height: 80%;padding-top: 2px;">View</button>

                        <!-- View qualification pop up-->
                        <ng-template #viewQualification>
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">Qualification Requirements</h4>
                                    <button type="button" class="close pull-right" aria-label="Close"
                                        (click)="viewRef.hide()">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div>
                                        <div *ngIf="personalDetails" class="col-sm-4" style="margin-bottom: 5px;">
                                            <b>Personal Details</b>
                                        </div>

                                        <div *ngIf="educationalDetails" class="col-sm-6" style="margin-bottom: 5px;">
                                            <b>Educational Qualifications</b>
                                            <div *ngIf="olDetails" style="margin-left: 42px;">OL</div>
                                            <div *ngIf="alDetails" style="margin-left: 42px;">AL</div>
                                            <div *ngIf="academicDetails" style="margin-left: 42px;">Academic</div>
                                            <div *ngIf="optional" style="color: blue;" class="col-sm-12">
                                                <b>{{optional}}</b>
                                            </div>
                                        </div>

                                        <div *ngIf="professionalDetails" class="col-sm-4" style="margin-bottom: 5px;">
                                            <b> Professioanl Qualifications</b>
                                        </div>

                                        <div *ngIf="workDetails" class="col-sm-4">
                                            <b> Work Experiences</b>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        (click)="viewRef.hide()">Exit</button>
                                </div>
                            </div>
                        </ng-template>
                        <!-- end of edit popup-->
                    </div>
                </div>
            </div>

            <!-- instructions -->
            <span class="row col-sm-9" style="position: absolute; top: 41px; right: -208px; font-size: 15px;">
                <label style="margin-right: 11px;">Instructions:</label>
                <table class="col-sm-10">
                    <tbody>
                        <tr>
                            <td style="width: 25%;">1. Verify Originality</td>
                            <td>: Click on relevent Check box.</td>
                        </tr>

                        <tr>
                            <td>2. Verify e-documents</td>
                            <td>: Select the document status from the Selection Box.</td>
                        </tr>

                        <tr>
                            <td>3. Verify student Status</td>
                            <td>: Select the student status from the Selection Box.</td>
                        </tr>
                    </tbody>
                </table>
            </span>

            <!-- Search data table-->
            <div class="counselling-list row" style="margin-left: 10px;">
                <div class="counselling-table col-sm-12">
                    <table class="table table-bordered table-fixed">
                        <thead>
                            <tr>

                                <th *ngIf="superAdmin" class="table-cell">Action</th>

                                <th class="table-cell">Registration Number</th>

                                <div class="cell">
                                    <th class="table-cell" style="padding-right: 60px;">Personal Documents</th>
                                    <th style="width: 169px; padding-right: 53px;">Remark</th>
                                    <th style="width: 131px;">Document Status</th>
                                </div>

                                <div class="cell">
                                    <th class="table-cell">Educational Qualifications</th>
                                    <th style="width: 169px; padding-right: 53px;">Remark</th>
                                    <th style="width: 131px;">Document Status</th>
                                </div>

                                <div class="cell">
                                    <th class="table-cell">Professional Qualifications</th>
                                    <th style="width: 169px; padding-right: 53px;">Remark</th>
                                    <th style="width: 131px;">Document Status</th>
                                </div>

                                <div class="cell">
                                    <th class="table-cell">Working Experience</th>
                                    <th style="width: 169px; padding-right: 29px;">Remark</th>
                                    <th style="width: 131px;">Document Status</th>
                                </div>

                                <div class="cell">
                                    <th style="width: 169px;">Remark for the Student</th>
                                </div>

                                <div class="cell">
                                    <th style="width: 131px;">Student Status</th>
                                </div>
                            </tr>
                        </thead>

                        <tbody>
                            <tr
                                *ngFor="let istudent of initialStudentData | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">

                                <!-- edit-->
                                <td *ngIf="superAdmin" style="text-align: center;">
                                    <button type="button" (click)="openEdit(editForm)"> <span
                                            class="fa fa-edit"></span></button>

                                    <!-- edit pop up-->
                                    <ng-template #editForm>
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title pull-left">Edit</h4>
                                                <button type="button" class="close pull-right" aria-label="Close"
                                                    (click)="modalRef.hide()">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <!-- program-->
                                                <div class="row" style="margin-left: 10px;">
                                                    Do you really want to re open the"Details Applicantion".
                                                </div>

                                            </div>

                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary"
                                                    (click)="modalRef.hide()">Cancel</button>
                                                <button type="button" class="btn btn-primary"
                                                    (click)="openStudentInterface(istudent.initialApplicant.id)">Re Open
                                                    Details Application</button>
                                            </div>
                                        </div>
                                    </ng-template>
                                    <!-- end of edit popup-->
                                </td>

                                <!-- registration number-->
                                <td>
                                    <div class="row">
                                        <div class="col-sm-1">
                                            <input type="checkbox" [checked]="selectedInitialStudentWithIndex[page-1]"
                                                (change)="getInitialStudentIdToSendMsg($event, page-1)">
                                        </div>
                                        <div class="col-sm-8 remove-padding-left">
                                            {{istudent.id}}
                                        </div>
                                    </div>
                                </td>

                                <!-- personal documents-->
                                <div class="cell">
                                    <div
                                        *ngFor="let personalD of initialStudentData[page-1].personalDetails; index as a">
                                        <div *ngIf=personalD>
                                            <td>
                                                <!-- document-->
                                                <div class="row" style="width: 229px;">
                                                    <div class="col-sm-1">
                                                        <input type="checkbox"
                                                            [checked]="personalD.localApplicantOriginality"
                                                            (change)="updateOriginality($event, personalD)">
                                                    </div>

                                                    <div class="col-sm-8 remove-padding-left">
                                                        <a *ngIf="!passport"
                                                            href="{{base_url}}/api/file/download/s3bucket/{{personalD.nic.toLowerCase()}}.png">{{personalD.nic}}.png</a>

                                                        <a *ngIf="passport"
                                                            href="{{base_url}}/api/file/download/s3bucket/{{personalD.passportNo.toLowerCase()}}.png">{{personalD.passportNo}}.png</a>

                                                    </div>
                                                </div>
                                            </td>

                                            <td>
                                                <!-- remark-->
                                                <textarea *ngIf="personalD.localApplicantRemark" id="personalremark"
                                                    rows="2" cols="14" style="width: 143px;"
                                                    [placeholder]="personalD.localApplicantRemark"
                                                    (blur)="updateRemark(personalD, $event)"></textarea>

                                                <textarea *ngIf="!personalD.localApplicantRemark" id="personalremark"
                                                    rows="2" cols="14" style="width: 143px;"
                                                    (blur)="updateRemark(personalD, $event)"></textarea>
                                            </td>

                                            <td style="width: 150px;">
                                                <!-- document status-->
                                                <div>
                                                    <select class="form-control extra-width" style="width: 106px;"
                                                        id="personaldocstatus{{a}}" name="personaldocstatus"
                                                        (change)="updateDocumentStatus(personalD, $event.target.value)">
                                                        <option *ngIf="personalD.documentStatus" value="" selected
                                                            disabled hidden>
                                                            {{personalD.documentStatus.documentStatus}}</option>
                                                        <option *ngIf="!personalD.documentStatus" value="" selected
                                                            disabled hidden>
                                                            --Select--</option>
                                                        <option ngbDropdownItem *ngFor="let docStatus of documentStatus"
                                                            [value]="docStatus.id">
                                                            {{docStatus.documentStatus}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </td>
                                        </div>
                                    </div>

                                    <!-- Attach Here Field-->
                                    <td>
                                        <div class="row" style="width: 229px;">
                                            <div class="col-sm-8 remove-padding-left">
                                                <button type="button" class="btn btn-link"
                                                    (click)="openAttachDocumentPopup(attachDocuments)">Attach
                                                    Here</button>

                                                <!-- personal dcuments attach pop up-->
                                                <ng-template #attachDocuments>
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title pull-left">Attach NIC</h4>
                                                            <button type="button" class="close pull-right"
                                                                aria-label="Close" (click)="modalRef.hide()">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <!-- nic number -->
                                                            <div class="col-sm-12 row">
                                                                <div class="col-sm-4"> <label>Enter NIC Number: </label>
                                                                </div>
                                                                <div class="col-sm-6"><input type="text" name="nic"
                                                                        for="nic" [(ngModel)]="nicNumber"></div>
                                                            </div>

                                                            <!-- upload NIC-->
                                                            <div class="col-sm-12 row">
                                                                <div class="col-sm-4"> <label>Upload NIC <small>(png
                                                                            only)</small></label>
                                                                </div>
                                                                <div class="col-sm-8">
                                                                    <input type="file"
                                                                        class="form-control input-type form-control-sm col-sm-5"
                                                                        style="margin-bottom: 7px;margin-top: 7px;padding-bottom: 30px;padding-top: 3px;padding-left: 4px;"
                                                                        name="personal" id="personal" accept="image/*"
                                                                        (change)="selectFile($event)"
                                                                        #personal="ngModel"
                                                                        [(ngModel)]="personalDocument">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                                (click)="modalRef.hide()">Cancel</button>
                                                            <button type="button" class="btn btn-primary"
                                                                (click)="saveNIC(istudent)">Upload</button>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                                <!-- end of personal dcuments attach  popup-->
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width: 194px;"> </td>
                                    <td style="width: 150px;"> </td>
                                </div>

                                <!-- educational documents-->
                                <div class="cell">
                                    <div
                                        *ngFor="let educational of initialStudentData[page-1].educationalQualification; index as i">
                                        <div
                                            *ngFor="let edu of initialStudentData[page-1].educationalQualification[i]; index as j">
                                            <div *ngIf=edu>
                                                <td>
                                                    <!-- document-->
                                                    <div class="row" style="width: 229px;">
                                                        <div class="col-sm-1">
                                                            <input type="checkbox"
                                                                [checked]="edu.olOriginality || edu.alOriginality || edu.academiclOriginality"
                                                                (change)="updateOriginality($event, edu)">
                                                        </div>
                                                        <div class="col-sm-8 remove-padding-left">
                                                            <a *ngIf="edu.certificateName == 'ol' "
                                                                href="{{base_url}}/api/file/download/s3bucket/{{edu.id}}_ol.pdf">{{edu.certificateName}}</a>
                                                            <a *ngIf="edu.certificateName == 'al' "
                                                                href="{{base_url}}/api/file/download/s3bucket/{{edu.id}}_al.pdf">{{edu.certificateName}}</a>
                                                            <a *ngIf="edu.certificateName == 'academic' "
                                                                href="{{base_url}}/api/file/download/s3bucket/{{edu.id}}_academic.pdf">{{edu.certificateName}}</a>
                                                        </div>
                                                    </div>
                                                </td>

                                                <td>
                                                    <!-- remark-->
                                                    <textarea *ngIf="edu.olRemark || edu.alRemark || edu.academicRemark"
                                                        id="eduremark" rows="2" cols="14" style="width: 139px;"
                                                        [placeholder]="edu.olRemark || edu.alRemark || edu.academicRemark"
                                                        (blur)="updateRemark(edu, $event)"></textarea>

                                                    <textarea
                                                        *ngIf="!edu.olRemark && !edu.alRemark && !edu.academicRemark"
                                                        id="eduremark" rows="2" cols="14" style="width: 139px;"
                                                        (blur)="updateRemark(edu, $event)"></textarea>
                                                </td>

                                                <td style="width: 150px;">
                                                    <!-- document status-->
                                                    <div>
                                                        <select class="form-control extra-width" style="width: 106px;"
                                                            id="edudocstatus{{i}}" name="edudocstatus"
                                                            (change)="updateDocumentStatus(edu, $event.target.value)">
                                                            <option *ngIf="edu.documentStatus" value="" selected
                                                                disabled hidden>
                                                                {{edu.documentStatus.documentStatus}}</option>
                                                            <option *ngIf="!edu.documentStatus" value="" selected
                                                                disabled hidden>
                                                                --Select--</option>
                                                            <option ngbDropdownItem
                                                                *ngFor="let docStatus of documentStatus"
                                                                [value]="docStatus.id">
                                                                {{docStatus.documentStatus}}
                                                            </option>
                                                        </select>
                                                    </div>
                                                </td>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Attach Here Field-->
                                    <td style="line-height: 38px;">
                                        <div class="row" style="width: 229px;">
                                            <div class="col-sm-8 remove-padding-left">
                                                <button type="button" class="btn btn-link"
                                                    (click)="openAttachDocumentPopup(educationalDocumentAttach)">Attach
                                                    Here</button>

                                                <!-- educational documents attach pop up-->
                                                <ng-template #educationalDocumentAttach>
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title pull-left">Attach Educational
                                                                Documents</h4>
                                                            <button type="button" class="close pull-right"
                                                                aria-label="Close" (click)="modalRef.hide()">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <!-- academic-->
                                                            <form #form="ngForm" name="uploadCertificate">

                                                                <div
                                                                    class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 row">

                                                                    <!-- academic-->
                                                                    <div class="form-group-inline row">
                                                                        <label class="col-sm-5" for="certificateName"
                                                                            style="padding: 3px; margin: 7px; padding-right: 4px;">Upload
                                                                            Academic
                                                                            Certificates <small>(pdf
                                                                                only)</small></label>

                                                                        <input type="file"
                                                                            class="form-control input-type form-control-sm col-sm-5"
                                                                            style="margin: 7px 0px 7px 8px; padding: 3px 51px 30px 4px;"
                                                                            id="certificateName" name="certificateName"
                                                                            [(ngModel)]="certiAcademic.certificateName"
                                                                            #certificateName="ngModel"
                                                                            accept="application/pdf"
                                                                            (change)="readFile($event)"
                                                                            (change)="selectFile($event)">

                                                                        <div class="col-sm-1">
                                                                            <button type="button"
                                                                                class="btn btn-primary"
                                                                                (click)="saveCertificatesAcademic(certiAcademic, istudent.id, istudent.programStarted.program.programId)">Upload</button>
                                                                        </div>
                                                                    </div>

                                                                    <!-- ol-->
                                                                    <div class="form-group-inline row">
                                                                        <label class="col-sm-5" for="certificateName"
                                                                            style="padding-top: 3px; margin-top: 7px;">Upload
                                                                            OL
                                                                            Certificates <small>(pdf
                                                                                only)</small></label>

                                                                        <input type="file"
                                                                            class="form-control input-type form-control-sm col-sm-5"
                                                                            style="margin-bottom: 7px;margin-top: 7px;padding-bottom: 30px;padding-top: 3px;padding-left: 4px;"
                                                                            id="certificateName" name="certificateName"
                                                                            [(ngModel)]="certiOL.certificateName"
                                                                            #certificateName="ngModel"
                                                                            accept="application/pdf"
                                                                            (change)="readFile($event)"
                                                                            (change)="selectFile($event)">

                                                                        <div class="col-sm-1">
                                                                            <button type="button"
                                                                                class="btn btn-primary"
                                                                                (click)="saveCertificatesOL(certiOL, istudent.id, istudent.programStarted.program.programId, examTypeOL)">Upload</button>
                                                                        </div>

                                                                        <div style="padding-left: 85px;">
                                                                            <div class="row">
                                                                                <input type="radio" id="gceol"
                                                                                    name="examol" value="1"
                                                                                    [(ngModel)]="examTypeOL"
                                                                                    #gce="ngModel"
                                                                                    style="margin-right: 5px;">
                                                                                <label for="gce">Gce O/L</label><br>
                                                                            </div>

                                                                            <div class="row">
                                                                                <input type="radio" id="edexcelol"
                                                                                    name="examol" value="2"
                                                                                    [(ngModel)]="examTypeOL"
                                                                                    #edexcel="ngModel"
                                                                                    style="margin-right: 5px;">
                                                                                <label for="edexcel">Edexcel</label><br>
                                                                            </div>

                                                                            <div class="row">
                                                                                <input type="radio" id="cambridgeol"
                                                                                    name="examol" value="3"
                                                                                    [(ngModel)]="examTypeOL"
                                                                                    #cambridge="ngModel"
                                                                                    style="margin-right: 5px;">
                                                                                <label
                                                                                    for="cambridge">Cambridge</label><br>
                                                                            </div>
                                                                        </div>

                                                                    </div>

                                                                    <!-- al-->
                                                                    <div class="form-group-inline row">
                                                                        <label class="col-sm-5" for="certificateName"
                                                                            style="padding-top: 3px; margin-top: 7px;">Upload
                                                                            AL
                                                                            Certificates <small>(pdf
                                                                                only)</small></label>

                                                                        <input type="file"
                                                                            class="form-control input-type form-control-sm col-sm-5"
                                                                            style="margin-bottom: 7px;margin-top: 7px;padding-bottom: 30px;padding-top: 3px;padding-left: 4px;"
                                                                            id="certificateName" name="certificateName"
                                                                            [(ngModel)]="certiAL.certificateName"
                                                                            #certificateName="ngModel"
                                                                            accept="application/pdf"
                                                                            (change)="readFile($event)"
                                                                            (change)="selectFile($event)">

                                                                        <div class="col-sm-1">
                                                                            <button type="button"
                                                                                class="btn btn-primary"
                                                                                (click)="saveCertificatesAL(certiAL, istudent.id, istudent.programStarted.program.programId, examTypeAL)">Upload</button>
                                                                        </div>

                                                                        <div style="padding-left: 85px;">
                                                                            <div class="row">
                                                                                <input type="radio" id="gceal"
                                                                                    name="examal" value="1"
                                                                                    [(ngModel)]="examTypeAL"
                                                                                    #gce="ngModel"
                                                                                    style="margin-right: 5px;">
                                                                                <label for="gce">Gce A/L</label><br>
                                                                            </div>

                                                                            <div class="row">
                                                                                <input type="radio" id="edexcelal"
                                                                                    name="examal" value="2"
                                                                                    [(ngModel)]="examTypeAL"
                                                                                    #edexcel="ngModel"
                                                                                    style="margin-right: 5px;">
                                                                                <label for="edexcel">Edexcel</label><br>
                                                                            </div>

                                                                            <div class="row">
                                                                                <input type="radio" id="cambridgeal"
                                                                                    name="examal" value="3"
                                                                                    [(ngModel)]="examTypeAL"
                                                                                    #cambridge="ngModel"
                                                                                    style="margin-right: 5px;">
                                                                                <label
                                                                                    for="cambridge">Cambridge</label><br>
                                                                            </div>

                                                                        </div>

                                                                    </div>
                                                                </div>
                                                            </form>

                                                        </div>

                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                                (click)="modalRef.hide()">Cancel</button>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                                <!-- end of educational documents attach  popup-->
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width: 194px;"> </td>
                                    <td style="width: 150px;"> </td>
                                </div>

                                <!-- professional documents-->
                                <div class="cell">
                                    <div
                                        *ngFor="let pro of initialStudentData[page-1].professionalQualification; index as n">
                                        <div *ngIf=pro>
                                            <td>
                                                <!-- document-->
                                                <div class="row" style="width: 229px;">
                                                    <div class="col-sm-1">
                                                        <input type="checkbox" [checked]="pro.professionalOriginality"
                                                            (change)="updateOriginality($event, pro)">
                                                    </div>
                                                    <div class="col-sm-8 remove-padding-left">
                                                        <a
                                                            href="{{base_url}}/api/file/download/s3bucket/{{pro.id}}_professional.pdf">{{pro.certificateName}}</a>
                                                    </div>
                                                </div>
                                            </td>

                                            <td>
                                                <!-- remark-->
                                                <textarea *ngIf="pro.professionalRemark" id="proremark" rows="2"
                                                    cols="14" style="width: 143px;"
                                                    [placeholder]="pro.professionalRemark"
                                                    (blur)="updateRemark(pro, $event)"></textarea>

                                                <textarea *ngIf="!pro.professionalRemark" id="proremark" rows="2"
                                                    cols="14" style="width: 143px;"
                                                    (blur)="updateRemark(pro, $event)"></textarea>
                                            </td>

                                            <td style="width: 150px;">
                                                <!-- document status-->
                                                <div>
                                                    <select class="form-control extra-width" style="width: 106px;"
                                                        id="prodocstatus{{n}}" name="prodocstatus"
                                                        (change)="updateDocumentStatus(pro, $event.target.value)">
                                                        <option *ngIf="pro.documentStatus" value="" selected disabled
                                                            hidden>
                                                            {{pro.documentStatus.documentStatus}}</option>
                                                        <option *ngIf="!pro.documentStatus" value="" selected disabled
                                                            hidden>
                                                            --Select--</option>
                                                        <option ngbDropdownItem *ngFor="let docStatus of documentStatus"
                                                            [value]="docStatus.id">
                                                            {{docStatus.documentStatus}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </td>
                                        </div>
                                    </div>

                                    <!-- Attach Here Field-->
                                    <td style="line-height: 38px;">
                                        <div class="row" style="width: 229px;">
                                            <div class="col-sm-8 remove-padding-left">
                                                <button type="button" class="btn btn-link"
                                                    (click)="openAttachDocumentPopup(professionalDocumentAttach)">Attach
                                                    Here</button>

                                                <!-- professional dcuments attach pop up-->
                                                <ng-template #professionalDocumentAttach>
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title pull-left">Attach Professional
                                                                Documents</h4>
                                                            <button type="button" class="close pull-right"
                                                                aria-label="Close" (click)="modalRef.hide()">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">

                                                            <form #form="ngForm">
                                                                <div class="row">
                                                                    <div
                                                                        class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                                                        <div class="form-group row">
                                                                            <div class="col-md-12">
                                                                                <label for="certificates">Upload
                                                                                    Certificates <small>(pdf
                                                                                        only)</small> </label>
                                                                                <input type="file"
                                                                                    class="form-control-sm"
                                                                                    id="certificates" required
                                                                                    [(ngModel)]="certiProfessional.certificateName"
                                                                                    name="certificates"
                                                                                    #certificates="ngModel"
                                                                                    accept="application/pdf"
                                                                                    (change)="readFile($event)"
                                                                                    (change)="selectFile($event)">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </form>

                                                        </div>

                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                                (click)="modalRef.hide()">Cancel</button>
                                                            <button type="button" class="btn btn-primary"
                                                                (click)="saveCertificatesProfessional(certiProfessional, istudent.id, istudent.programStarted.program.programId)">Upload</button>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                                <!-- end of professional dcuments attach  popup-->
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width: 194px;"> </td>
                                    <td style="width: 150px;"> </td>
                                </div>

                                <!-- work experience documents-->
                                <div class="cell">
                                    <div *ngFor="let work of initialStudentData[page-1].workExperience; index as m">
                                        <div *ngIf=work>
                                            <td>
                                                <!-- document-->
                                                <div class="row" style="width: 229px;">
                                                    <div class="col-sm-1">
                                                        <input type="checkbox" [checked]="work.workOriginality"
                                                            (change)="updateOriginality($event, work)">
                                                    </div>
                                                    <div class="col-sm-8 remove-padding-left">
                                                        <a
                                                            href="{{base_url}}/api/file/download/s3bucket/{{work.id}}_work.pdf">{{work.certificateName}}</a>
                                                    </div>
                                                </div>
                                            </td>

                                            <td>
                                                <!-- remark-->
                                                <textarea *ngIf="work.workRemark" id="workremark" rows="2" cols="14"
                                                    style="width: 143px;" [placeholder]="work.workRemark"
                                                    (blur)="updateRemark(work, $event)"></textarea>

                                                <textarea *ngIf="!work.workRemark" id="workremark" rows="2" cols="14"
                                                    style="width: 143px;"
                                                    (blur)="updateRemark(work, $event)"></textarea>
                                            </td>

                                            <td style="width: 150px;">
                                                <!-- document status-->
                                                <div>
                                                    <select class="form-control extra-width" style="width: 106px;"
                                                        id="workdocstatus{{m}}" name="workdocstatus"
                                                        (change)="updateDocumentStatus(work, $event.target.value)">
                                                        <option *ngIf="work.documentStatus" value="" selected disabled
                                                            hidden>
                                                            {{work.documentStatus.documentStatus}}</option>
                                                        <option *ngIf="!work.documentStatus" value="" selected disabled
                                                            hidden>
                                                            --Select--</option>
                                                        <option ngbDropdownItem *ngFor="let docStatus of documentStatus"
                                                            [value]="docStatus.id">
                                                            {{docStatus.documentStatus}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </td>
                                        </div>
                                    </div>

                                    <!-- Attach Here Field-->
                                    <td style="line-height: 38px;">
                                        <div class="row" style="width: 229px;">
                                            <div class="col-sm-8 remove-padding-left">
                                                <button type="button" class="btn btn-link"
                                                    (click)="openAttachDocumentPopup(workDocumentAttach)">Attach
                                                    Here</button>

                                                <!-- work documents attach pop up-->
                                                <ng-template #workDocumentAttach>
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title pull-left">Attach Work Experience
                                                                Documents</h4>
                                                            <button type="button" class="close pull-right"
                                                                aria-label="Close" (click)="modalRef.hide()">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <form #form="ngForm">
                                                                <div class="row">
                                                                    <div
                                                                        class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                                                        <div class="form-group row">
                                                                            <div class="col-md-10">
                                                                                <label for="certificates">Upload
                                                                                    Certificates (pdf only)</label>
                                                                                <input type="file"
                                                                                    class="form-control-sm"
                                                                                    id="certificates" required
                                                                                    [(ngModel)]="certiWork.certificateName"
                                                                                    name="certificates"
                                                                                    #certificates="ngModel"
                                                                                    accept="application/pdf"
                                                                                    (change)="readFile($event)"
                                                                                    (change)="selectFile($event)">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>

                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary"
                                                                (click)="modalRef.hide()">Cancel</button>
                                                            <button type="button" class="btn btn-primary"
                                                                (click)="saveCertificatesWork(certiWork, istudent.id, istudent.programStarted.program.programId)">Upload</button>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                                <!-- end of work documents attach  popup-->
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width: 194px;"> </td>
                                    <td style="width: 150px;"> </td>
                                </div>

                                <!-- remark for student -->
                                <td>
                                    <textarea *ngIf="istudent.initialStudentRemark" id="studentremark" rows="2"
                                        cols="14" style="width: 143px;" [placeholder]="istudent.initialStudentRemark"
                                        (blur)="updateInitialStudentRemark(istudent, $event)"></textarea>

                                    <textarea *ngIf="!istudent.initialStudentRemark" id="studentremark" rows="2"
                                        cols="14" style="width: 143px;"
                                        (blur)="updateInitialStudentRemark(istudent, $event)"></textarea>
                                </td>

                                <!--student status-->
                                <td style="width: 150px;">
                                    <!-- initial student status-->
                                    <div>
                                        <label *ngIf="istudent.studentStatus.id==3">Verified</label>
                                        <label *ngIf="istudent.studentStatus.id==5">Cancel Registration</label>

                                        <select *ngIf="istudent.studentStatus.id!=5 && istudent.studentStatus.id!=3"
                                            class="form-control extra-width" style="width: 106px;"
                                            id="initialstudentstatus{{page-1}}" name="initialstudentstatus"
                                            (change)="updateInitialStudentStatus(istudent, $event.target.value)">

                                            <option *ngIf="istudent.studentStatus.id==2" value="" selected disabled
                                                hidden>
                                                Pending</option>
                                            <option *ngIf="istudent.studentStatus.id!=2" value="" selected disabled
                                                hidden>
                                                {{istudent.studentStatus.description}}</option>
                                            <option ngbDropdownItem *ngFor="let studentStatus of initialStudentStatus"
                                                [value]="studentStatus.id">
                                                {{studentStatus.description}}
                                            </option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="pagination">
                <ngb-pagination [collectionSize]="items.length" [(page)]="page" [maxSize]="2" [rotate]="true"
                    [ellipses]="false" [boundaryLinks]="true"></ngb-pagination>
            </div>

            <!-- buttons -->
            <div class="row col-sm-8" style="margin-left: 10px; position: absolute; right: -284px; bottom: 10px;">

                <div class="col-sm-3" style="padding-right: 0px; margin-right: 40px;">
                    <button type="button" class="btn btn-primary" style="margin-right: 5px; margin-right: 10px;"
                        [disabled]="!sendMsgSelected" (click)="open(content)">Send Notification
                    </button>
                </div>

                <div class="col-sm-2" style="padding-left: 0px; padding-right: 0px;">
                    <button type="button" class="btn btn-secondary" style="margin-right: 5px;" [routerLink]="['/']">Exit
                    </button>
                </div>

                <div class="col-sm-2" style="margin-right: 20px; padding-left: 0px;">
                    <button type="button" class="btn btn-secondary" style="margin-right: 5px;" (click)="reset()"
                        (click)="clear()">Reset
                    </button>
                </div>
            </div>

        </div> <!-- end of search details block-->
    </div>
</div>

<!------------------------pop up------------------->
<!-- delete successful msg-->
<ng-template #deleteok>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Message</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        Record is successfully deleted.
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modalRef.hide()">OK</button>
    </div>
</ng-template>

<!-- edit sucessful msg-->
<ng-template #editok>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Message</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        Record is edited successfully.
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modalRef.hide()">OK</button>
    </div>
</ng-template>

<!-- common msg-->
<ng-template #common>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Message</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="commonRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        {{msg}}
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="commonRef.hide()">OK</button>
    </div>
</ng-template>

<!-- sms popup-->
<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Contact Student</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <div class="input-group">
                    <h5>
                        Name of the Student - {{initialStudentData[indexofSelected].namewithinitials}}
                    </h5>
                </div>

                <div class="input-group">
                    <h6>
                        Contact No. - {{initialStudentData[indexofSelected].mobileno}}
                    </h6>
                </div>

                <div class="input-group">
                    <h6 id="emailOfStudent">
                        Email Address - {{initialStudentData[indexofSelected].email}}
                    </h6>
                </div>

            </div>
            <div class="form-group">
                <label for="applicationNo" style="color: blue;"> <b> Type your message here to send via OUSL
                    </b></label>
                <div class="input-group" style="height: 200px">
                    <textarea cols="30" type="text" class="input-type col-sm-10 form-control form-control-sm"
                        id="applicationNo" placeholder="Dear Student," name="applicationNo"
                        [(ngModel)]="messageToStudent"> </textarea>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="sendSMSToStudent()">Send an SMS</button>
        <button type="button" class="btn btn-outline-dark" (click)="sendEmaiToStudent()">Send an Email</button>
        <button type="button" class="btn btn-outline-dark" (click)="sendBoth()">Send both</button>
    </div>
</ng-template>
